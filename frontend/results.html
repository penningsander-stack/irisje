<!-- frontend/results.html -->
<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bedrijven zoeken – Irisje.nl</title>
  <meta name="description" content="Bekijk en vergelijk lokale bedrijven die passen bij jouw zoekopdracht op Irisje.nl." />
  <link rel="stylesheet" href="style.css?v=20251129" />
</head>

<body>
  <!-- HEADER -->
  <header class="site-header">
    <div class="site-header-inner">
      <a href="index.html" class="site-logo">
        <span class="site-logo-icon">I</span>
        Irisje.nl
      </a>
      <nav class="site-nav">
        <a href="index.html">Home</a>
        <a href="login.html">Inloggen</a>
      </nav>
    </div>
  </header>

  <!-- MAIN -->
  <main class="container page">
    <!-- Hero + filters -->
    <section class="hero card">
      <h1 class="hero-title">Vergelijk bedrijven die bij je opdracht passen</h1>
      <p class="hero-subtitle">
        Pas je zoekopdracht aan en selecteer maximaal vijf bedrijven om in één keer een aanvraag te sturen.
      </p>

      <!-- Filterformulier dat door results.js wordt gelezen -->
      <form id="filterForm" class="search-form mt-3">
        <div class="search-field">
          <label class="label" for="filterCategory">Wat heb je nodig?</label>
          <input
            id="filterCategory"
            type="text"
            placeholder="Bijv. dakdekker, mediator, hovenier…"
          />
        </div>
        <div class="search-field">
          <label class="label" for="filterCity">Waar?</label>
          <input
            id="filterCity"
            type="text"
            placeholder="Plaats of regio"
          />
        </div>
        <button class="btn btn-primary search-submit" type="submit">
          Zoeken
        </button>
      </form>

      <!-- Korte tekst, wordt dynamisch aangevuld door JS -->
      <p id="filterMessage" class="mt-2" style="font-size:0.9rem;color:#6b7280;">
        De resultaten hieronder worden automatisch geladen op basis van je zoekopdracht.
      </p>
    </section>

    <!-- Resultatenlijst -->
    <section class="mt-4">
      <div id="resultsContainer" class="cards-grid">
        <!-- Bedrijfscards worden door results.js toegevoegd -->
      </div>
    </section>

    <!-- Selectiebalk (onder de resultaten) -->
    <section id="selectionBar"
             class="card mt-4"
             style="display:none;align-items:center;justify-content:space-between;gap:1rem;">
      <div>
        <div style="font-size:0.9rem;color:#111827;">
          <strong><span id="selectedCount">0</span> bedrijf</strong> geselecteerd
          (max. 5).
        </div>
        <div id="selectedNames"
             style="margin-top:0.25rem;font-size:0.85rem;color:#6b7280;">
          <!-- Namen van geselecteerde bedrijven -->
        </div>
      </div>

      <div class="company-actions" style="justify-content:flex-end;">
        <button type="button" id="clearSelection" class="btn btn-secondary">
          Selectie wissen
        </button>
        <button type="button" id="openRequestForm" class="btn btn-primary" disabled>
          Verstuur aanvraag
        </button>
      </div>
    </section>

    <!-- Aanvraagformulier (kaart onder de resultaten, standaard verborgen) -->
    <section id="requestFormBox" class="card mt-4" style="display:none;">
      <h2 class="section-title">Eén aanvraag naar je geselecteerde bedrijven</h2>
      <p class="section-subtitle">
        Vul je gegevens in en beschrijf kort jouw opdracht. De geselecteerde bedrijven
        ontvangen je aanvraag en nemen rechtstreeks contact met je op.
      </p>

      <form id="requestForm" class="auth-form" novalidate>
        <div class="auth-field">
          <label for="rqName">Je naam</label>
          <input id="rqName" type="text" autocomplete="name" />
          <div id="errName" class="error"></div>
        </div>

        <div class="auth-field">
          <label for="rqEmail">E-mailadres</label>
          <input id="rqEmail" type="email" autocomplete="email" />
          <div id="errEmail" class="error"></div>
        </div>

        <div class="auth-field">
          <label for="rqPhone">Telefoonnummer</label>
          <input id="rqPhone" type="tel" autocomplete="tel" />
          <div id="errPhone" class="error"></div>
        </div>

        <div class="auth-field">
          <label for="rqMessage">Waar heb je hulp bij nodig?</label>
          <textarea
            id="rqMessage"
            rows="4"
            placeholder="Beschrijf kort je opdracht. Bijvoorbeeld: type klus, gewenste datum, bijzonderheden…"
          ></textarea>
          <div id="errMessage" class="error"></div>
        </div>

        <p id="rqStatus" class="mt-2 info"></p>

        <div class="mt-3" style="display:flex;gap:0.75rem;justify-content:flex-end;">
          <button type="submit" id="submitRequestBtn" class="btn btn-primary">
            Verstuur aanvraag
          </button>
        </div>
      </form>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    © 2025 Irisje.nl – Alle rechten voorbehouden
  </footer>

  <!-- JS -->
  <script src="js/results.js"></script>
</body>
</html>
