<!-- frontend/password-forgot.html -->
<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wachtwoord vergeten – Irisje.nl</title>
  <meta name="description" content="Stel eenvoudig een nieuw wachtwoord in voor je Irisje.nl-account." />
  <meta name="theme-color" content="#4F46E5" />

  <link rel="stylesheet" href="/style.css?v=20260109">

  <style>
    /* Floating label – consistent met login/register */
    .field {
      position: relative;
    }

    .field input {
      width: 100%;
      padding: 1.15rem 1rem 0.9rem;
      border-radius: 1rem;
      border: 1px solid rgb(226 232 240);
      background: rgba(255,255,255,0.9);
      font-size: 0.95rem;
      transition: border-color .2s ease, box-shadow .2s ease;
    }

    .field input:focus {
      outline: none;
      border-color: rgb(99 102 241);
      box-shadow: 0 0 0 3px rgba(99,102,241,0.15);
      background: #fff;
    }

    .field label {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 0.9rem;
      color: rgb(100 116 139);
      pointer-events: none;
      transition: all .18s ease;
    }

    .field input:focus + label,
    .field input:not(:placeholder-shown) + label {
      top: 0.45rem;
      font-size: 0.7rem;
      color: rgb(79 70 229);
    }
  </style>
</head>

<body class="irisje-body flex flex-col min-h-screen">

<header class="irisje-header sticky top-0 z-40">
  <div class="max-w-6xl mx-auto flex items-center justify-between px-4 py-3 lg:py-4">
    <a href="index.html" class="flex items-center space-x-2">
      <span class="inline-flex items-center justify-center w-9 h-9 rounded-2xl bg-white/90 text-indigo-700 text-sm font-bold shadow-brand">
        I
      </span>
      <div class="flex flex-col leading-tight">
        <span class="font-semibold text-sm text-slate-900 tracking-tight">Irisje.nl</span>
        <span class="text-[11px] text-slate-500 hidden sm:block">Voor bedrijven</span>
      </div>
    </a>

    <a href="login.html" class="text-sm text-indigo-600 font-semibold hover:underline">
      Terug naar inloggen
    </a>
  </div>
</header>

<main class="flex-1 flex items-center justify-center px-4 py-12">
  <section class="w-full max-w-md">

    <div class="mb-8 text-center">
      <h1 class="text-2xl font-semibold tracking-tight text-slate-900">
        Wachtwoord herstellen
      </h1>
      <p class="mt-2 text-sm text-slate-600 leading-relaxed">
        Vul je e-mailadres in. Je ontvangt een link om een nieuw wachtwoord in te stellen.
      </p>
    </div>

    <div class="rounded-3xl bg-white/85 backdrop-blur border border-white/60 shadow-brand p-8">
      <form id="forgotForm" class="space-y-7" novalidate>

        <div class="field">
          <input id="email" type="email" required placeholder=" " autocomplete="email">
          <label for="email">E-mailadres</label>
        </div>

        <p id="forgotMessage" class="rq-status min-h-[1.25rem]"></p>

        <div class="pt-2">
          <button type="submit" class="btn-primary w-full py-3">
            Verstuur herstel-link
          </button>
        </div>

      </form>
    </div>

  </section>
</main>

<footer class="mt-auto py-6 text-center text-[11px] text-slate-400">
  © 2026 Irisje.nl – Alle rechten voorbehouden
</footer>

<script>
const API_BASE = "https://irisje-backend.onrender.com/api";

document.getElementById("forgotForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const msg = document.getElementById("forgotMessage");
  const email = document.getElementById("email").value.trim();

  if (!email) {
    msg.textContent = "Vul een geldig e-mailadres in.";
    return;
  }

  msg.textContent = "Bezig met verzenden…";

  try {
    const res = await fetch(`${API_BASE}/auth/forgot-password`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ email }),
    });

    const data = await res.json();
    if (!res.ok) throw new Error(data.message);

    msg.textContent = "Controleer je mailbox voor de herstel-link.";
    document.getElementById("forgotForm").reset();
  } catch (err) {
    msg.textContent = "Er ging iets mis. Probeer het later opnieuw.";
  }
});
</script>

</body>
</html>
